# assignment-service

–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞ –Ω–∞ Go –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ü–µ–Ω–∫–∏ –∑–∞–¥–∞–Ω–∏–π —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.

## –ó–∞–ø—É—Å–∫

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å `Dockerfile` –∏ —Å–µ—Ä–≤–∏—Å `assignment-service` –≤ `docker-compose.yml`.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—ë –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è):

```bash
docker-compose up -d
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:  
‚Üí **API**: `http://localhost:8080`  
‚Üí **Swagger UI**: `http://localhost:5000`

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –µ—Å—Ç—å —Ñ–∞–π–ª `.env` (—Å–º. –Ω–∏–∂–µ).

---

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ **—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å `migrate` –≤ `docker-compose.yml`.

–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ [`./migrations`](./migrations) –∏ –≤–∫–ª—é—á–∞—é—Ç:

- –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü: `courses`, `modules`, `tasks`, `students`, `progress`, `assignments`, `competencies`, `feedback_tickets`.
- **Seed-–¥–∞–Ω–Ω—ã–µ**:
  - 6 —É—á–µ–±–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ (–æ—Ç ¬´–û—Å–Ω–æ–≤ SQL¬ª –¥–æ ¬´–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º¬ª).
  - 1 –º–æ–¥—É–ª—å –∏ 5 –∑–∞–¥–∞–Ω–∏–π –≤ –∫—É—Ä—Å–µ ¬´–û—Å–Ω–æ–≤—ã SQL –∏ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö¬ª.
  - 1 —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞:  
    - –ò–º—è: **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤**  
    - Email: `ivan@example.com`  
    - –ü–∞—Ä–æ–ª—å: `password123`
  - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –ø–µ—Ä–≤—ã–º 3 –∑–∞–¥–∞–Ω–∏—è–º:
    - –ó–∞–¥–∞–Ω–∏—è 1 –∏ 2 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
    - –ó–∞–¥–∞–Ω–∏–µ 3 ‚Äî —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (`needs_revision`).
  - –û—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–¥–∞–Ω–∏–π –∏ —Ñ–∏–¥–±—ç–∫–∏ (–≤–∫–ª—é—á–∞—è –æ–¥–∏–Ω —Å –æ—à–∏–±–∫–æ–π).

> –ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ `docker-compose`, –Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
> ```bash
> docker-compose run --rm migrate
> ```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.env` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `POSTGRES_USER`
- `POSTGRES_PASSWORD`
- `POSTGRES_DB`
- `DATABASE_URL` ‚Äî –≤ —Ñ–æ—Ä–º–∞—Ç–µ `postgres://user:pass@host:port/db` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ç–æ—Ä–æ–º)
- `JWT_SECRET_KEY`
- `JWT_EXPIRE_HOURS`

üí° **–°–æ–≤–µ—Ç**: —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è.

---

## Swagger UI

Swagger UI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:5000](http://localhost:5000)
2. –ù–∞–∂–º–∏—Ç–µ **Authorize**
3. –í—Å—Ç–∞–≤—å—Ç–µ: `Bearer <–≤–∞—à_JWT_—Ç–æ–∫–µ–Ω>`

–¢–æ–∫–µ–Ω –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `/auth/login` (—Å–º. –Ω–∏–∂–µ).

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º**:
   ```http
   POST /auth/login
   {
     "email": "ivan@example.com",
     "password": "password123"
   }
   ```
   ‚Üí –ü–æ–ª—É—á–∏—Ç–µ JWT-—Ç–æ–∫–µ–Ω.

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
   ```
   Authorization: Bearer <–ø–æ–ª—É—á–µ–Ω–Ω—ã–π_—Ç–æ–∫–µ–Ω>
   ```

3. –ü—Ä–∏–º–µ—Ä—ã –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤:
   - `POST /upload` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
   - `GET /progress` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
   - `GET /progress/summary` ‚Äî —Å–≤–æ–¥–∫–∞ –ø–æ –∫—É—Ä—Å–∞–º
   - `GET /{assignmentId}/feedback` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–¥–±—ç–∫


